@page "/restaurant/kds"
@inject ApiClient Api

<SecureRoute>
    <h4>KDS</h4>
    @if (_loading)
    {
        <p>Cargando...</p>
    }
    else
    {
        <p>Ã“rdenes: @_items.Count()</p>
        <pre class="bg-light p-2 border rounded" style="white-space: pre-wrap;">@System.Text.Json.JsonSerializer.Serialize(_items)</pre>
    }
</SecureRoute>

@code {
    private IEnumerable<KdsOrderItem> _items = Enumerable.Empty<KdsOrderItem>();
    private bool _loading = true;

    protected override async Task OnInitializedAsync()
    {
        _items = await Api.GetKds(1, 20, "");
        _loading = false;
    }
}
